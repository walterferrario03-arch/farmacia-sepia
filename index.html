<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Pedido | Farmacia Sepia</title>
  <link rel="icon" href="../img/logo-sepia.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }

    body {
      background: #f9fdfa;
      color: #1a1a1a;
      padding-bottom: 2rem;
    }

    .header {
      background: linear-gradient(135deg, #85b8a0 0%, #4caf50 100%);
      color: white;
      text-align: center;
      padding: 1.5rem 1rem;
    }

    .header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }

    .header p {
      font-size: 1rem;
      opacity: 0.95;
    }

    .info-farmacia {
      background: white;
      padding: 1rem;
      text-align: center;
      border-bottom: 1px solid #e0f0e3;
      font-size: 0.95rem;
      color: #2e7d32;
      font-weight: 600;
    }

    .container {
      max-width: 600px;
      margin: 1.5rem auto;
      padding: 0 1.2rem;
    }

    .form-group {
      margin-bottom: 1.4rem;
    }

    label {
      display: block;
      margin-bottom: 0.6rem;
      font-weight: 600;
      color: #2e7d32;
      font-size: 1.05rem;
    }

    input, select {
      width: 100%;
      padding: 14px;
      border: 1px solid #c8e6c9;
      border-radius: 10px;
      font-size: 1rem;
      background: white;
      transition: border 0.3s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: #4caf50;
    }

    .flores-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 0.5rem;
    }

    .flor-item {
      background: #e8f5e9;
      border: 1px solid #c8e6c9;
      border-radius: 8px;
      padding: 8px 4px;
      text-align: center;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .flor-item:hover {
      background: #c8e6c9;
    }

    .flor-item.selected {
      background: #4caf50;
      color: white;
      border-color: #2e7d32;
      font-weight: 600;
    }

    #contador-flores {
      text-align: right;
      font-size: 0.9rem;
      color: #666;
      margin-top: 0.4rem;
    }

    .btn-submit {
      width: 100%;
      padding: 16px;
      background: #2e7d32;
      color: white;
      font-size: 1.2rem;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }

    .btn-submit:hover {
      background: #1b5e20;
      transform: translateY(-2px);
    }

    @media (min-width: 768px) {
      .flores-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  </style>
</head>
<body>

  <div class="header">
    <h1>FARMACIA SEPIA</h1>
    <p>Flores de Bach ‚Ä¢ F√≥rmulas Personalizadas</p>
  </div>

  <div class="info-farmacia">
    üìç Calle 5 esq. 46 N¬∞ 701 ‚Ä¢ La Plata
  </div>

  <div class="container">
    <form id="formulario-pedido">
      <div class="form-group">
        <label for="nombre">Tu nombre</label>
        <input type="text" id="nombre" placeholder="Ej: Ana Mart√≠nez" required autocomplete="name">
      </div>

      <div class="form-group">
        <label>Seleccion√° tus flores (m√°x. 7)</label>
        <div class="flores-grid" id="flores-lista"></div>
        <div id="contador-flores">Seleccionadas: <span id="contador">0</span>/7</div>
      </div>

      <div class="form-group">
        <label for="tama√±o">Tama√±o del frasco</label>
        <select id="tama√±o" required>
          <option value="">‚Äî Eleg√≠ ‚Äî</option>
          <option value="30 ml">30 ml</option>
          <option value="60 ml">60 ml</option>
          <option value="100 ml">100 ml</option>
        </select>
      </div>

      <div class="form-group">
        <label for="cantidad">Cantidad de unidades</label>
        <select id="cantidad" required>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>

      <button type="submit" class="btn-submit">
        <i class="fab fa-whatsapp"></i> Enviar pedido
      </button>
    </form>
  </div>

  <script>
    const flores = [
      "Agrimony", "Aspen", "Beech", "Centaury", "Cerato", "Cherry Plum",
      "Chestnut Bud", "Chicory", "Clematis", "Crab Apple", "Elm", "Gentian",
      "Gorse", "Heather", "Holly", "Honeysuckle", "Hornbeam", "Impatiens",
      "Larch", "Mimulus", "Mustard", "Oak", "Olive", "Pine", "Red Chestnut",
      "Rock Rose", "Rock Water", "Scleranthus", "Star of Bethlehem",
      "Sweet Chestnut", "Vervain", "Vine", "Walnut", "Water Violet",
      "White Chestnut", "Wild Oat", "Wild Rose", "Willow"
    ];

    const floresLista = document.getElementById('flores-lista');
    const contadorSpan = document.getElementById('contador');
    let floresSeleccionadas = [];

    flores.forEach(flor => {
      const div = document.createElement('div');
      div.className = 'flor-item';
      div.textContent = flor;
      div.onclick = () => toggleFlor(flor, div);
      floresLista.appendChild(div);
    });

    function toggleFlor(flor, elemento) {
      if (elemento.classList.contains('selected')) {
        elemento.classList.remove('selected');
        floresSeleccionadas = floresSeleccionadas.filter(f => f !== flor);
      } else if (floresSeleccionadas.length < 7) {
        elemento.classList.add('selected');
        floresSeleccionadas.push(flor);
      }
      contadorSpan.textContent = floresSeleccionadas.length;
    }

    document.getElementById('formulario-pedido').onsubmit = function(e) {
      e.preventDefault();

      if (floresSeleccionadas.length === 0) {
        alert('‚ö†Ô∏è Por favor, seleccion√° al menos una flor.');
        return;
      }

      const nombre = document.getElementById('nombre').value.trim();
      const tama√±o = document.getElementById('tama√±o').value;
      const cantidad = document.getElementById('cantidad').value;

      if (!nombre) {
        alert('‚ö†Ô∏è Por favor, ingres√° tu nombre.');
        return;
      }

      let mensaje = `¬°Hola, Farmacia Sepia! Quisiera hacer un pedido:\n\n`;
      mensaje += `*Nombre:* ${nombre}\n`;
      mensaje += `*Flores:* ${floresSeleccionadas.join(', ')}\n`;
      mensaje += `*Tama√±o:* ${tama√±o}\n`;
      mensaje += `*Unidades:* ${cantidad}\n\n`;
      mensaje += `üìç Retiro en: Calle 5 esq. 46 N¬∞ 701 (La Plata)\n`;
      mensaje += `¬°Gracias!`;

      const url = `https://wa.me/542215116015?text=${encodeURIComponent(mensaje)}`;
      window.open(url, '_blank');
    };
  </script>
</body>
</html>
